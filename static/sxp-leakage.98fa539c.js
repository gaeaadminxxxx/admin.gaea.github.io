import{d as L,r as k,e as E,q as O,s as $,t as j,o as i,c,f as s,w as n,u as o,I,J as N,g as u,b as m,v as y,x as P,y as v,h as b,R as S,j as U,l as J,m as M,z as q,A as G,B as H,C as K,Q}from"./entry.91ef5304.js";/* empty css                       *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                 *//* empty css                  *//* empty css                   */import{J as W,K as X}from"./adminManage.ba33e332.js";import"./request.4ad66f6b.js";const Y={class:"w-full flex flex-col space-y-2 p-6"},Z={class:"w-full flex-1 overflow-y-auto"},ee={class:"cursor-pointer hover:text-[#ebebeb]"},te=m("span",{class:"iconfont icon-icon-copy"},null,-1),oe={key:0,class:"cursor-pointer hover:text-[#ebebeb]"},ae=m("span",{class:"iconfont icon-icon-copy"},null,-1),se={key:1},ne={class:"flex justify-end"},he=L({__name:"sxp-leakage",setup(le){const p=k(!1),_=k(!1),C=[{value:1,key:1,label:"snft"},{value:2,key:2,label:"anft"}],a=E({airdrop_type:1,page:1,limit:20}),r=E({content:[],totalElements:0}),A=l=>{a.page=l,d()},z=l=>{a.limit=l,d()},d=async()=>{try{const l={...a};p.value=!0;const t=await W(l);p.value=!1,t.code===200?(r.content=t.data.map(f=>({...f,loading:!1})),r.totalElements=t.total):(r.content=[],r.totalElements=0,b({message:t.msg,grouping:!0,type:"error"}))}catch{p.value=!1}},B=async()=>{try{_.value=!0,(await X(a.airdrop_type)).code===200?(b.success({message:"补发成功",grouping:!0,type:"success"}),d()):b.success({message:"补发失败",grouping:!0,type:"success"})}catch{}finally{_.value=!1}};return O(async()=>{await $(),d()}),(l,t)=>{const f=Q,T=S,w=U,x=J,V=M,g=q,D=G,F=H,h=j("copy"),R=K;return i(),c("div",Y,[s(V,{ref:"ruleFormRef",inline:!0,"label-position":"right",model:o(a)},{default:n(()=>[s(w,{label:"补发类型:",prop:"type"},{default:n(()=>[s(T,{modelValue:o(a).airdrop_type,"onUpdate:modelValue":t[0]||(t[0]=e=>o(a).airdrop_type=e)},{default:n(()=>[(i(),c(I,null,N(C,(e,re)=>s(f,{label:e.key,key:e.key},{default:n(()=>[u(v(e.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),s(w,null,{default:n(()=>[s(x,{class:"w-[100px]",type:"primary",onClick:t[1]||(t[1]=e=>d()),loading:o(p)},{default:n(()=>[u(" 搜索 ")]),_:1},8,["loading"]),s(x,{class:"w-[100px]",type:"success",onClick:t[2]||(t[2]=e=>B()),loading:o(_)},{default:n(()=>[u(" 补发 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),m("div",Z,[y((i(),P(D,{ref:"multipleTableRef",height:"530px",data:o(r).content,border:""},{default:n(()=>[s(g,{prop:"address",label:"钱包地址",align:"center"},{default:n(e=>[y((i(),c("div",ee,[u(v(e.row.address)+" ",1),te])),[[h,`${e.row.address}`]])]),_:1}),s(g,{prop:"userid",label:"用户ID",align:"center","show-overflow-tooltip":""},{default:n(e=>[e.row.userid?y((i(),c("div",oe,[u(v(e.row.userid)+" ",1),ae])),[[h,`${e.row.userid}`]]):(i(),c("span",se,"-"))]),_:1}),s(g,{prop:"amount",label:"数量",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[R,o(p)]])]),m("div",ne,[s(F,{"current-page":o(a).page,"onUpdate:currentPage":t[3]||(t[3]=e=>o(a).page=e),"page-size":o(a).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>o(a).limit=e),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:o(r).totalElements,onCurrentChange:A,onSizeChange:z},null,8,["current-page","page-size","total"])])])}}});export{he as default};
