import{d as h,r as c,e as d,q as z,s as T,o as f,c as B,f as o,w as i,u as a,g as V,b as _,v as k,x as D,h as F,i as I,j,l as M,m as N,z as P,A as U,B as A,C as L}from"./entry.c7c7faef.js";/* empty css                 *//* empty css                *//* empty css                  *//* empty css                 *//* empty css               */import"./el-tooltip.4ed993c7.js";/* empty css                     *//* empty css                      *//* empty css                  *//* empty css                   */import{T as R}from"./adminManage.bc6007c0.js";import"./request.70087fe9.js";const S={class:"w-full flex flex-col space-y-2 p-8"},q={class:"w-full flex-1 overflow-y-auto"},$={class:"flex justify-end"},le=h({__name:"transfer-history",setup(G){const r=c(!1);c(!1),c("");const t=d({page:1,limit:20,uid:""}),n=d({content:[],totalElements:0}),g=l=>{t.page=l,p()},b=l=>{t.limit=l,p()},p=async()=>{try{if(!t.uid)return;const l={...t};r.value=!0;const e=await R(l);r.value=!1,e.code===200?(n.content=e.data,n.totalElements=e.total):(n.content=[],n.totalElements=0,F({message:e.msg,grouping:!0,type:"error"}))}catch{r.value=!1}};return z(async()=>{await T(),p()}),(l,e)=>{const v=I,u=j,x=M,E=N,m=P,y=U,w=A,C=L;return f(),B("div",S,[o(E,{ref:"ruleFormRef",inline:!0,"label-position":"right",model:a(t)},{default:i(()=>[o(u,{label:"用户ID:",class:"w-[270px]"},{default:i(()=>[o(v,{modelValue:a(t).uid,"onUpdate:modelValue":e[0]||(e[0]=s=>a(t).uid=s),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),o(u,null,{default:i(()=>[o(x,{class:"w-[100px]",type:"primary",onClick:e[1]||(e[1]=s=>p()),loading:a(r)},{default:i(()=>[V(" 搜索 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),_("div",q,[k((f(),D(y,{ref:"multipleTableRef",height:"530px",data:a(n).content,border:""},{default:i(()=>[o(m,{prop:"userid",label:"用户ID",align:"center"}),o(m,{prop:"username",label:"用户名",align:"center"}),o(m,{prop:"count",label:"数量",align:"center"})]),_:1},8,["data"])),[[C,a(r)]])]),_("div",$,[o(w,{"current-page":a(t).page,"onUpdate:currentPage":e[2]||(e[2]=s=>a(t).page=s),"page-size":a(t).limit,"onUpdate:pageSize":e[3]||(e[3]=s=>a(t).limit=s),"page-sizes":[20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper",total:a(n).totalElements,onCurrentChange:g,onSizeChange:b},null,8,["current-page","page-size","total"])])])}}});export{le as default};
